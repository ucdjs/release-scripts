graph TD
    Config[Configuration<br/>ReleaseScriptsOptions]

    Git[GitService<br/>git commands]
    GitHub[GitHubService<br/>GitHub API]
    Workspace[WorkspaceService<br/>package discovery]
    VersionCalc[VersionCalculatorService<br/>version bumps]
    DepGraph[DependencyGraphService<br/>topological sort]
    PkgUpdater[PackageUpdaterService<br/>package.json updates]
    NPM[NPMService<br/>NPM registry]

    Helpers[Helper Utilities<br/>commit attribution]

    Config --> Git
    Config --> GitHub
    Config --> Workspace

    Git --> Workspace
    Workspace --> VersionCalc
    Workspace --> DepGraph

    Git --> Helpers
    Workspace --> Helpers

    Helpers --> VersionCalc
    VersionCalc --> PkgUpdater
    DepGraph --> PkgUpdater
    Workspace --> PkgUpdater

    Workspace --> NPM

    GitHub -.-> |used by verify|Verify[verify.ts]
    Git -.-> |used by verify|Verify
    Workspace -.-> |used by verify|Verify
    VersionCalc -.-> |used by verify|Verify
    DepGraph -.-> |used by verify|Verify
    Helpers -.-> |used by verify|Verify

    Git -.-> |used by prepare|Prepare[prepare flow]
    Workspace -.-> |used by prepare|Prepare
    VersionCalc -.-> |used by prepare|Prepare
    DepGraph -.-> |used by prepare|Prepare
    PkgUpdater -.-> |used by prepare|Prepare
    Helpers -.-> |used by prepare|Prepare

    NPM -.-> |used by publish|Publish[publish flow<br/>planned]
    Git -.-> |used by publish|Publish
    Workspace -.-> |used by publish|Publish
    DepGraph -.-> |used by publish|Publish

    style Config fill:#e1f0ff
    style Git fill:#ffe1e1
    style GitHub fill:#ffe1e1
    style Workspace fill:#e1ffe1
    style VersionCalc fill:#fff4e1
    style DepGraph fill:#fff4e1
    style PkgUpdater fill:#f0e1ff
    style NPM fill:#ffe1e1
    style Helpers fill:#f0f0f0
    style Verify fill:#d4edda
    style Prepare fill:#d4edda
    style Publish fill:#e1f0ff,stroke:#4a90e2,stroke-dasharray: 5 5
