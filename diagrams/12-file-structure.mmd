# Project File Structure

```mermaid
flowchart TB
    subgraph Root["Project Root"]
        PKG["package.json<br/>Dependencies & scripts"]
        TSCONFIG["tsconfig.json<br/>TypeScript config"]
        TSDOWN["tsdown.config.ts<br/>Build config"]
        VITEST["vitest.config.ts<br/>Test config"]
        ESLINT["eslint.config.js<br/>Lint config"]
        AGENTS["AGENTS.md<br/>Architecture guide"]
    end

    subgraph Src["src/"]
        INDEX["index.ts<br/>Main entry point<br/>API factory"]
        OPTIONS["options.ts<br/>Config validation"]
        ERRORS["errors.ts<br/>Error types"]
        
        subgraph Verify["verify.ts"]
            V1["constructVerifyProgram()"]
            V2["snapshotPackageJson()"]
            V3["findDrift()"]
            V4["satisfiesRange()"]
        end
        
        subgraph Prepare["prepare.ts"]
            P1["constructPrepareProgram()"]
            P2["Interactive prompts flow"]
            P3["Changelog generation"]
        end
        
        subgraph Publish["publish.ts"]
            PU1["constructPublishProgram()"]
            PU2["buildPackage()"]
            PU3["isPrerelease()"]
        end
    end

    subgraph Services["src/services/"]
        GIT["git.service.ts<br/>Git operations"]
        GITHUB["github.service.ts<br/>GitHub API"]
        WORKSPACE["workspace.service.ts<br/>Package discovery"]
        NPM["npm.service.ts<br/>NPM registry"]
        VCALC["version-calculator.service.ts<br/>Bump calculation"]
        DGRAPH["dependency-graph.service.ts<br/>Topological sort"]
        PUPDATER["package-updater.service.ts<br/>Version updates"]
        CL["changelog.service.ts<br/>Changelog gen"]
        VP["version-prompt.service.ts<br/>User prompts"]
    end

    subgraph Utils["src/utils/"]
        HELPERS["helpers.ts<br/>- loadOverrides<br/>- mergePackageCommits<br/>- mergeGlobalCommits<br/>- findCommitRange<br/>- isGlobalCommit<br/>- isDependencyFile"]
        CLFMT["changelog-formatters.ts<br/>- parseCommits<br/>- groupByType<br/>- formatChangelog"]
    end

    subgraph Test["test/"]
        T_HELPERS["helpers.test.ts"]
        T_OPTIONS["options.test.ts"]
        T_CL["changelog-formatters.test.ts"]
        T_NPM["npm.service.test.ts"]
        T_WS["workspace.service.test.ts"]
    end

    subgraph Docs["docs/"]
        DIAGRAMS["diagrams/<br/>Mermaid charts"]
        CHANGELOG["CHANGELOG.md"]
    end

    Root --> Src
    Src --> Services
    Src --> Utils
    Src --> Test
    Root --> Docs
    
    INDEX --> Verify
    INDEX --> Prepare
    INDEX --> Publish
    INDEX --> SERVICES
    
    Verify --> GIT
    Verify --> GITHUB
    Verify --> WORKSPACE
    Verify --> VCALC
    Verify --> DGRAPH
    Verify --> HELPERS
    
    Prepare --> GIT
    Prepare --> GITHUB
    Prepare --> WORKSPACE
    Prepare --> VCALC
    Prepare --> DGRAPH
    Prepare --> PUPDATER
    Prepare --> CL
    Prepare --> VP
    Prepare --> HELPERS
    
    Publish --> GIT
    Publish --> NPM
    Publish --> WORKSPACE
    Publish --> DGRAPH
    
    CL --> CLFMT
    
    style Root fill:#f0f0f0
    style Src fill:#e1f5e1
    style Services fill:#e1f0ff
    style Utils fill:#fff4e1
    style Test fill:#ffe1e1
    style Docs fill:#f0f0f0
```
